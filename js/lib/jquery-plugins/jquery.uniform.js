/*

Uniform v1.7.5
Copyright Â© 2009 Josh Pyles / Pixelmatrix Design LLC
http://pixelmatrixdesign.com

Requires jQuery 1.4 or newer

Much thanks to Thomas Reynolds and Buck Wilson for their help and advice on this

Disabling text selection is made possible by Mathias Bynens <http://mathiasbynens.be/>
and his noSelect plugin. <http://github.com/mathiasbynens/noSelect-jQuery-Plugin>

Also, thanks to David Kaneda and Eugene Bond for their contributions to the plugin

License:
MIT License - http://www.opensource.org/licenses/mit-license.php

Enjoy!

*/

!function(s){s.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0},elements:[]},s.browser.msie&&s.browser.version<7?s.support.selectOpacity=!1:s.support.selectOpacity=!0,s.fn.uniform=function(e){function a(e){$el=s(e),$el.addClass($el.attr("type")),d(e)}function i(e){s(e).addClass("uniform"),d(e)}function t(a){var i=s(a),t=s("<div>"),n=s("<span>");t.addClass(e.buttonClass),e.useID&&""!=i.attr("id")&&t.attr("id",e.idPrefix+"-"+i.attr("id"));var o;i.is("a")||i.is("button")?o=i.text():(i.is(":submit")||i.is(":reset")||i.is("input[type=button]"))&&(o=i.attr("value")),o=""==o?i.is(":reset")?"Reset":"Submit":o,n.html(o),i.css("opacity",0),i.wrap(t),i.wrap(n),t=i.closest("div"),n=i.closest("span"),i.is(":disabled")&&t.addClass(e.disabledClass),t.bind({"mouseenter.uniform":function(){t.addClass(e.hoverClass)},"mouseleave.uniform":function(){t.removeClass(e.hoverClass),t.removeClass(e.activeClass)},"mousedown.uniform touchbegin.uniform":function(){t.addClass(e.activeClass)},"mouseup.uniform touchend.uniform":function(){t.removeClass(e.activeClass)},"click.uniform touchend.uniform":function(e){if(s(e.target).is("span")||s(e.target).is("div"))if(a[0].dispatchEvent){var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!0),a[0].dispatchEvent(i)}else a[0].click()}}),a.bind({"focus.uniform":function(){t.addClass(e.focusClass)},"blur.uniform":function(){t.removeClass(e.focusClass)}}),s.uniform.noSelect(t),d(a)}function n(a){var i=s(a),t=s("<div />"),n=s("<span />");"none"==!i.css("display")&&e.autoHide&&t.hide(),t.addClass(e.selectClass),e.useID&&""!=a.attr("id")&&t.attr("id",e.idPrefix+"-"+a.attr("id"));var o=a.find(":selected:first");0==o.length&&(o=a.find("option:first")),n.html(o.html()),a.css("opacity",0),a.wrap(t),a.before(n),t=a.parent("div"),n=a.siblings("span"),a.bind({"change.uniform":function(){n.text(a.find(":selected").html()),t.removeClass(e.activeClass)},"focus.uniform":function(){t.addClass(e.focusClass)},"blur.uniform":function(){t.removeClass(e.focusClass),t.removeClass(e.activeClass)},"mousedown.uniform touchbegin.uniform":function(){t.addClass(e.activeClass)},"mouseup.uniform touchend.uniform":function(){t.removeClass(e.activeClass)},"click.uniform touchend.uniform":function(){t.removeClass(e.activeClass)},"mouseenter.uniform":function(){t.addClass(e.hoverClass)},"mouseleave.uniform":function(){t.removeClass(e.hoverClass),t.removeClass(e.activeClass)},"keyup.uniform":function(){n.text(a.find(":selected").html())}}),s(a).attr("disabled")&&t.addClass(e.disabledClass),s.uniform.noSelect(n),d(a)}function o(a){var i=s(a),t=s("<div />"),n=s("<span />");"none"==!i.css("display")&&e.autoHide&&t.hide(),t.addClass(e.checkboxClass),e.useID&&""!=a.attr("id")&&t.attr("id",e.idPrefix+"-"+a.attr("id")),s(a).wrap(t),s(a).wrap(n),n=a.parent(),t=n.parent(),s(a).css("opacity",0).bind({"focus.uniform":function(){t.addClass(e.focusClass)},"blur.uniform":function(){t.removeClass(e.focusClass)},"click.uniform touchend.uniform":function(){s(a).attr("checked")?n.addClass(e.checkedClass):n.removeClass(e.checkedClass)},"mousedown.uniform touchbegin.uniform":function(){t.addClass(e.activeClass)},"mouseup.uniform touchend.uniform":function(){t.removeClass(e.activeClass)},"mouseenter.uniform":function(){t.addClass(e.hoverClass)},"mouseleave.uniform":function(){t.removeClass(e.hoverClass),t.removeClass(e.activeClass)}}),s(a).attr("checked")&&n.addClass(e.checkedClass),s(a).attr("disabled")&&t.addClass(e.disabledClass),d(a)}function l(a){var i=s(a),t=s("<div />"),n=s("<span />");"none"==!i.css("display")&&e.autoHide&&t.hide(),t.addClass(e.radioClass),e.useID&&""!=a.attr("id")&&t.attr("id",e.idPrefix+"-"+a.attr("id")),s(a).wrap(t),s(a).wrap(n),n=a.parent(),t=n.parent(),s(a).css("opacity",0).bind({"focus.uniform":function(){t.addClass(e.focusClass)},"blur.uniform":function(){t.removeClass(e.focusClass)},"click.uniform touchend.uniform":function(){if(s(a).attr("checked")){var i=e.radioClass.split(" ")[0];s("."+i+" span."+e.checkedClass+":has([name='"+s(a).attr("name")+"'])").removeClass(e.checkedClass),n.addClass(e.checkedClass)}else n.removeClass(e.checkedClass)},"mousedown.uniform touchend.uniform":function(){s(a).is(":disabled")||t.addClass(e.activeClass)},"mouseup.uniform touchbegin.uniform":function(){t.removeClass(e.activeClass)},"mouseenter.uniform touchend.uniform":function(){t.addClass(e.hoverClass)},"mouseleave.uniform":function(){t.removeClass(e.hoverClass),t.removeClass(e.activeClass)}}),s(a).attr("checked")&&n.addClass(e.checkedClass),s(a).attr("disabled")&&t.addClass(e.disabledClass),d(a)}function r(a){var i=s(a),t=s("<div />"),n=s("<span>"+e.fileDefaultText+"</span>"),o=s("<span>"+e.fileBtnText+"</span>");if("none"==!i.css("display")&&e.autoHide&&t.hide(),t.addClass(e.fileClass),n.addClass(e.filenameClass),o.addClass(e.fileBtnClass),e.useID&&""!=i.attr("id")&&t.attr("id",e.idPrefix+"-"+i.attr("id")),i.wrap(t),i.after(o),i.after(n),t=i.closest("div"),n=i.siblings("."+e.filenameClass),o=i.siblings("."+e.fileBtnClass),!i.attr("size")){var l=t.width();i.attr("size",l/10)}var r=function(){var s=i.val();""===s?s=e.fileDefaultText:(s=s.split(/[\/\\]+/),s=s[s.length-1]),n.text(s)};r(),i.css("opacity",0).bind({"focus.uniform":function(){t.addClass(e.focusClass)},"blur.uniform":function(){t.removeClass(e.focusClass)},"mousedown.uniform":function(){s(a).is(":disabled")||t.addClass(e.activeClass)},"mouseup.uniform":function(){t.removeClass(e.activeClass)},"mouseenter.uniform":function(){t.addClass(e.hoverClass)},"mouseleave.uniform":function(){t.removeClass(e.hoverClass),t.removeClass(e.activeClass)}}),s.browser.msie?i.bind("click.uniform.ie7",function(){setTimeout(r,0)}):i.bind("change.uniform",r),i.attr("disabled")&&t.addClass(e.disabledClass),s.uniform.noSelect(n),s.uniform.noSelect(o),d(a)}function d(e){e=s(e).get(),e.length>1?s.each(e,function(e,a){s.uniform.elements.push(a)}):s.uniform.elements.push(e)}e=s.extend(s.uniform.options,e);var u=this;return 0!=e.resetSelector&&s(e.resetSelector).mouseup(function(){function e(){s.uniform.update(u)}setTimeout(e,10)}),s.uniform.restore=function(e){void 0==e&&(e=s(s.uniform.elements)),s(e).each(function(){s(this).is(":checkbox")?s(this).unwrap().unwrap():s(this).is("select")?(s(this).siblings("span").remove(),s(this).unwrap()):s(this).is(":radio")?s(this).unwrap().unwrap():s(this).is(":file")?(s(this).siblings("span").remove(),s(this).unwrap()):s(this).is("button, :submit, :reset, a, input[type='button']")&&s(this).unwrap().unwrap(),s(this).unbind(".uniform"),s(this).css("opacity","1");var a=s.inArray(s(e),s.uniform.elements);s.uniform.elements.splice(a,1)})},s.uniform.noSelect=function(e){function a(){return!1}s(e).each(function(){this.onselectstart=this.ondragstart=a,s(this).mousedown(a).css({MozUserSelect:"none"})})},s.uniform.update=function(a){void 0==a&&(a=s(s.uniform.elements)),a=s(a),a.each(function(){var i=s(this);if(i.is("select")){var t=i.siblings("span"),n=i.parent("div");n.removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),t.html(i.find(":selected").html()),i.is(":disabled")?n.addClass(e.disabledClass):n.removeClass(e.disabledClass)}else if(i.is(":checkbox")){var t=i.closest("span"),n=i.closest("div");n.removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),t.removeClass(e.checkedClass),i.is(":checked")&&t.addClass(e.checkedClass),i.is(":disabled")?n.addClass(e.disabledClass):n.removeClass(e.disabledClass)}else if(i.is(":radio")){var t=i.closest("span"),n=i.closest("div");n.removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),t.removeClass(e.checkedClass),i.is(":checked")&&t.addClass(e.checkedClass),i.is(":disabled")?n.addClass(e.disabledClass):n.removeClass(e.disabledClass)}else if(i.is(":file")){var n=i.parent("div"),o=i.siblings(e.filenameClass);btnTag=i.siblings(e.fileBtnClass),n.removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),o.text(i.val()),i.is(":disabled")?n.addClass(e.disabledClass):n.removeClass(e.disabledClass)}else if(i.is(":submit")||i.is(":reset")||i.is("button")||i.is("a")||a.is("input[type=button]")){var n=i.closest("div");n.removeClass(e.hoverClass+" "+e.focusClass+" "+e.activeClass),i.is(":disabled")?n.addClass(e.disabledClass):n.removeClass(e.disabledClass)}})},this.each(function(){if(s.support.selectOpacity){var e=s(this);e.is("select")?1!=e.attr("multiple")&&(void 0==e.attr("size")||e.attr("size")<=1)&&n(e):e.is(":checkbox")?o(e):e.is(":radio")?l(e):e.is(":file")?r(e):e.is(":text, :password, input[type='email']")?a(e):e.is("textarea")?i(e):(e.is("a")||e.is(":submit")||e.is(":reset")||e.is("button")||e.is("input[type=button]"))&&t(e)}})}}(jQuery);