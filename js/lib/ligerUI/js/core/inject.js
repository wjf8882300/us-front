!function(t){liger.inject={prev:"liger-",defaults:{Grid_detail:{height:null,onShowDetail:null},Grid_editor:"ComboBox,DateEditor,Spinner,TextBox,PopupEdit,CheckBoxList,RadioList,Grid_editor",Grid_popup:"PopupEdit",Grid_grid:"Grid",Grid_condition:"Form",Grid_toolbar:"Toolbar",Grid_fields:"Form_fields",Form_editor:"ComboBox,DateEditor,Spinner,TextBox,PopupEdit,CheckBoxList,RadioList,Form_editor",Form_grid:"Grid",Form_columns:"Grid_columns",Form_condition:"Form",Form_popup:"PopupEdit",Form_buttons:"Button",Portal_panel:"Panel"},config:{Grid:{dynamics:"data,isChecked,detail,rowDraggingRender,toolbar,columns",arrays:"columns",columns:{dynamics:"render,totalSummary,headerRender,columns,editor,columns",arrays:"columns",textProperty:"display",columns:"liger.inject.config.Grid.columns",editor:{dynamics:"data,columns,render,renderItem,grid,condition,ext",grid:"liger.inject.config.Grid",condition:"liger.inject.config.Form"}},toolbar:{arrays:"items"}},Form:{dynamics:"validate,fields,buttons",arrays:"fields,buttons",fields:{textProperty:"label",dynamics:"validate,editor",editor:{dynamics:"data,columns,render,renderItem,grid,condition,attr",grid:"liger.inject.config.Grid",condition:"liger.inject.config.Form"}},buttons:"liger.inject.config.Button"},PopupEdit:{dynamics:"grid,condition"},Button:{textProperty:"text",dynamics:"click"},ComboBox:{dynamics:"columns,data,tree,grid,condition,render,parms,renderItem"},ListBox:{dynamics:"columns,data,render,parms"},RadioList:{dynamics:"data,parms"},CheckBoxList:{dynamics:"data,parms"},Panel:{},Portal:{dynamics:"rows,columns",arrays:"rows,columns",columns:{dynamics:"panels",arrays:"panels"},rows:{dynamics:"panels",arrays:"panels"},toolbar:{arrays:"items"}}},parse:function(t){try{return null==t?null:new Function("return "+t+";")()}catch(t){return null}},parseDefault:function(r){var e=this;if(!r)return r;var i={};return t(r.split(",")).each(function(r,n){n&&(n=n.substr(0,1).toUpperCase()+n.substr(1),t.extend(i,e.parse("liger.defaults."+n)))}),i},fotmatValue:function(t,r){return"boolean"==r?"true"==t||"1"==t:"number"==r&&t?parseFloat(t.toString()):t},getOptions:function(r){var e=r.jelement,i=r.defaults,n=r.config;n=t.extend({ignores:"",dynamics:"",arrays:""},n);var o,a=this,s={};n.textProperty&&(s[n.textProperty]=e.text());for(var d in i){var l=d.toLowerCase(),c=t("> ."+l,e);if(-1==t.inArray(d,n.ignores.split(",")))if(c.length){var u=r.controlName+"_"+d,m=a.defaults[u]||liger.defaults[u],p=n[d];"string"==typeof m?m=a.parseDefault(m):"funcion"==typeof m&&(m=m()),"string"==typeof p?p=a.parse(p):"funcion"==typeof p&&(p=p()),m&&(-1!=t.inArray(d,n.arrays.split(","))?(o=[],t(">div,>li,>input",c).each(function(){o.push(a.getOptions({defaults:m,controlName:r.controlName,config:p,jelement:t(this)}))}),s[d]=o):s[d]=a.getOptions({defaults:m,controlName:r.controlName,config:p,jelement:c})),c.remove()}else-1!=t.inArray(d,n.dynamics.split(","))||0==d.indexOf("on")?(o=a.parse(e.attr("data-"+d)||e.attr(d)))&&(s[d]=a.fotmatValue(o,typeof i[d])):(o=e.attr("data-"+d)||e.attr(d))&&(s[d]=a.fotmatValue(o,typeof i[d]))}var f=e.attr("data-options")||e.attr("data-property");return f&&(f=a.parse("{"+f+"}")),f&&t.extend(s,f),s},init:function(){var r=this,e=this.config;for(var i in r.defaults)"string"==typeof r.defaults[i]&&(r.defaults[i]=r.parseDefault(r.defaults[i]));for(var n in liger.controls){var o=e[n]||{},a=r.prev+n.toLowerCase();t("."+a).each(function(){var e=t(this),i=t.extend({onrender:null,onrendered:null},liger.defaults[n]),a=r.getOptions({defaults:i,controlName:n,config:o,jelement:e});e[liger.pluginPrev+n](a)})}}},t(function(){liger.inject.init()})}(jQuery);