!function(t){t.fn.ligerRadioList=function(i){return t.ligerui.run.call(this,"ligerRadioList",arguments)},t.ligerDefaults.RadioList={rowSize:3,valueField:"id",textField:"text",valueFieldID:null,name:null,data:null,parms:null,url:null,urlParms:null,ajaxContentType:null,ajaxType:"post",onSuccess:null,onError:null,onSelect:null,css:null,value:null,valueFieldCssClass:null},t.ligerMethos.RadioList=t.ligerMethos.RadioList||{},t.ligerui.controls.RadioList=function(i,e){t.ligerui.controls.RadioList.base.constructor.call(this,i,e)},t.ligerui.controls.RadioList.ligerExtend(t.ligerui.controls.Input,{__getType:function(){return"RadioList"},_extendMethods:function(){return t.ligerMethos.RadioList},_init:function(){t.ligerui.controls.RadioList.base._init.call(this)},_render:function(){var i=this,e=this.options;i.data=e.data,i.valueField=null,t(this.element).is(":hidden")||t(this.element).is(":text")?(i.valueField=t(this.element),t(this.element).is(":text")&&i.valueField.hide()):e.valueFieldID?(i.valueField=t("#"+e.valueFieldID+":input,[name="+e.valueFieldID+"]:input"),0==i.valueField.length&&(i.valueField=t('<input type="hidden"/>')),i.valueField[0].id=i.valueField[0].name=e.valueFieldID):(i.valueField=t('<input type="hidden"/>'),i.valueField[0].id=i.valueField[0].name=i.id+"_val"),null==i.valueField[0].name&&(i.valueField[0].name=i.valueField[0].id),e.valueFieldCssClass&&i.valueField.addClass(e.valueFieldCssClass),i.valueField.attr("data-ligerid",i.id),t(this.element).is(":hidden")||t(this.element).is(":text")?i.radioList=t("<div></div>").insertBefore(this.element):i.radioList=t(this.element),i.radioList.html('<div class="l-radiolist-inner"><table cellpadding="0" cellspacing="0" border="0" class="l-radiolist-table"></table></div>').addClass("l-radiolist").append(i.valueField),i.radioList.table=t("table:first",i.radioList),e.value=i.valueField.val()||e.value,i.set(e),i._addClickEven()},destroy:function(){this.radioList&&this.radioList.remove(),this.options=null,t.ligerui.remove(this)},clear:function(){this._changeValue(""),this.trigger("clear")},_setCss:function(t){t&&this.radioList.addClass(t)},_setDisabled:function(i){i?(this.radioList.addClass("l-radiolist-disabled"),t("input:radio",this.radioList).attr("disabled",!0)):(this.radioList.removeClass("l-radiolist-disabled"),t("input:radio",this.radioList).removeAttr("disabled"))},_setWidth:function(t){this.radioList.width(t)},_setHeight:function(t){this.radioList.height(t)},indexOf:function(t){var i=this,e=this.options;if(!i.data)return-1;for(var a=0,l=i.data.length;a<l;a++)if("object"==typeof t){if(i.data[a]==t)return a}else if(i.data[a][e.valueField].toString()==t.toString())return a;return-1},removeItems:function(i){var e=this;e.data&&(t(i).each(function(t,i){var a=e.indexOf(i);-1!=a&&e.data.splice(a,1)}),e.refresh())},removeItem:function(t){if(this.data){var i=this.indexOf(t);-1!=i&&(this.data.splice(i,1),this.refresh())}},insertItem:function(t,i){var e=this;e.data||(e.data=[]),e.data.splice(i,0,t),e.refresh()},addItems:function(i){var e=this;e.data||(e.data=[]),t(i).each(function(t,i){e.data.push(i)}),e.refresh()},addItem:function(t){var i=this;i.data||(i.data=[]),i.data.push(t),i.refresh()},_setValue:function(t){var i=this,e=this.options;i.valueField.val(t),e.value=t,this._dataInit()},setValue:function(t){this._setValue(t)},_setUrl:function(i){var e=this,a=this.options;if(i){var l=t.isFunction(a.urlParms)?a.urlParms.call(e):a.urlParms;if(l)for(name in l)i+=-1==i.indexOf("?")?"?":"&",i+=name+"="+l[name];var s=t.isFunction(a.parms)?a.parms():a.parms;"application/json"==a.ajaxContentType&&"string"!=typeof s&&(s=liger.toJSON(s)),t.ajax({type:"post",url:i,data:s,cache:!1,dataType:"json",contentType:a.ajaxContentType,success:function(t){e.setData(t),e.trigger("success",[t])},error:function(t,i){e.trigger("error",[t,i])}})}},setUrl:function(t){return this._setUrl(t)},setParm:function(t,i){if(t){var e=this,a=e.get("parms");a||(a={}),a[t]=i,e.set("parms",a)}},clearContent:function(){var i=this;this.options;t("table",i.radioList).html("")},_setData:function(t){this.setData(t)},setData:function(t){var i=this;this.options;t&&t.length&&(i.data=t,i.refresh(),i.updateStyle())},refresh:function(){var t=this,i=this.options,e=this.data;if(this.clearContent(),e){for(var a=[],l=i.rowSize,s=!1,n=i.name||t.id,r=0;r<e.length;r++){var d=e[r][i.valueField],o=e[r][i.textField],u=t.id+"-"+r;r%l==0&&(s&&a.push("</tr>"),a.push("<tr>"),s=!0),a.push("<td><input type='radio' name='"+n+"' value='"+d+"' id='"+u+"'/><label for='"+u+"'>"+o+"</label></td>")}s&&a.push("</tr>"),t.radioList.table.append(a.join(""))}},_getValue:function(){var i=this,e=this.options,a=e.name||i.id;return t('input:radio[name="'+a+'"]:checked').val()},getValue:function(){return this._getValue()},updateStyle:function(){var i=this;this.options;i._dataInit(),t(":radio",i.element).change(function(){var t=i.getValue();i.trigger("select",[{value:t}])})},_dataInit:function(){var t=this,i=this.options,e=t.valueField.val()||t._getValue()||i.value;t._changeValue(e)},_changeValue:function(i){var e=this,a=this.options,l=a.name||e.id;t("input:radio[name='"+l+"']",e.radioList).each(function(){this.checked=this.value==i}),e.valueField.val(i),e.selectedValue=i},_addClickEven:function(){var t=this;this.options;t.radioList.click(function(i){var e=t.getValue();e&&t.valueField.val(e)})}})}(jQuery);