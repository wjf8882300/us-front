!function(o){o.fn.ligerAccordion=function(e){return o.ligerui.run.call(this,"ligerAccordion",arguments)},o.fn.ligerGetAccordionManager=function(){return o.ligerui.get(this)},o.ligerDefaults.Accordion={height:null,speed:"normal",changeHeightOnResize:!1,heightDiff:0},o.ligerMethos.Accordion={},o.ligerui.controls.Accordion=function(e,i){o.ligerui.controls.Accordion.base.constructor.call(this,e,i)},o.ligerui.controls.Accordion.ligerExtend(o.ligerui.core.UIComponent,{__getType:function(){return"Accordion"},__idPrev:function(){return"Accordion"},_extendMethods:function(){return o.ligerMethos.Accordion},_render:function(){var e=this,i=this.options;e.accordion=o(e.element),e.accordion.hasClass("l-accordion-panel")||e.accordion.addClass("l-accordion-panel");var c=0;o("> div[lselected=true]",e.accordion).length>0&&(c=o("> div",e.accordion).index(o("> div[lselected=true]",e.accordion))),o("> div",e.accordion).each(function(e,i){var n=o('<div class="l-accordion-header"><div class="l-accordion-toggle"></div><div class="l-accordion-header-inner"></div></div>');e==c&&o(".l-accordion-toggle",n).addClass("l-accordion-toggle-open"),o(i).attr("title")&&(o(".l-accordion-header-inner",n).html(o(i).attr("title")),o(i).attr("title","")),o(i).before(n),o(i).hasClass("l-accordion-content")||o(i).addClass("l-accordion-content"),o(i).attr("data-icon")&&(n.addClass("l-accordion-header-hasicon"),n.append('<i><img src="'+o(i).attr("data-icon")+'" /></i>'))}),o(".l-accordion-header",e.accordion).removeClass("l-accordion-header-downfirst"),o(".l-accordion-content:visible",e.accordion).next(".l-accordion-header:first").addClass("l-accordion-header-downfirst"),o(".l-accordion-toggle",e.accordion).each(function(){o(this).hasClass("l-accordion-toggle-open")||o(this).hasClass("l-accordion-toggle-close")||o(this).addClass("l-accordion-toggle-close"),o(this).hasClass("l-accordion-toggle-close")&&o(this).parent().next(".l-accordion-content:visible").hide()}),o(".l-accordion-header",e.accordion).hover(function(){o(this).addClass("l-accordion-header-over")},function(){o(this).removeClass("l-accordion-header-over")}),o(".l-accordion-toggle",e.accordion).hover(function(){o(this).hasClass("l-accordion-toggle-open")?o(this).addClass("l-accordion-toggle-open-over"):o(this).hasClass("l-accordion-toggle-close")&&o(this).addClass("l-accordion-toggle-close-over")},function(){o(this).hasClass("l-accordion-toggle-open")?o(this).removeClass("l-accordion-toggle-open-over"):o(this).hasClass("l-accordion-toggle-close")&&o(this).removeClass("l-accordion-toggle-close-over")}),o(">.l-accordion-header",e.accordion).click(function(){var c=o(".l-accordion-toggle:first",this);c.hasClass("l-accordion-toggle-close")?(c.removeClass("l-accordion-toggle-close").removeClass("l-accordion-toggle-close-over l-accordion-toggle-open-over"),c.addClass("l-accordion-toggle-open"),o(this).next(".l-accordion-content").show(i.speed).siblings(".l-accordion-content:visible").hide(i.speed),o(this).siblings(".l-accordion-header").find(".l-accordion-toggle").removeClass("l-accordion-toggle-open").addClass("l-accordion-toggle-close")):(c.removeClass("l-accordion-toggle-open").removeClass("l-accordion-toggle-close-over l-accordion-toggle-open-over").addClass("l-accordion-toggle-close"),o(this).next(".l-accordion-content").hide(i.speed)),o(".l-accordion-header",e.accordion).removeClass("l-accordion-header-downfirst"),o(".l-accordion-content:visible",e.accordion).next(".l-accordion-header:first").addClass("l-accordion-header-downfirst")}),e.headerHoldHeight=0,o("> .l-accordion-header",e.accordion).each(function(){e.headerHoldHeight+=o(this).height()}),i.height&&"string"==typeof i.height&&i.height.indexOf("%")>0?(e.onResize(),i.changeHeightOnResize&&o(window).resize(function(){e.onResize()})):i.height?(e.height=i.heightDiff+i.height,e.accordion.height(e.height),e.setHeight(i.height)):e.header=e.accordion.height(),e.set(i)},onResize:function(){var e=this,i=this.options;if(!i.height||"string"!=typeof i.height||-1==i.height.indexOf("%"))return!1;if("body"==e.accordion.parent()[0].tagName.toLowerCase()){var c=o(window).height();c-=parseInt(e.layout.parent().css("paddingTop")),c-=parseInt(e.layout.parent().css("paddingBottom")),e.height=i.heightDiff+c*parseFloat(e.height)*.01}else e.height=i.heightDiff+e.accordion.parent().height()*parseFloat(i.height)*.01;e.accordion.height(e.height),e.setContentHeight(e.height-e.headerHoldHeight)},setHeight:function(e){var i=this;this.options;i.accordion.height(e),e-=i.headerHoldHeight,o("> .l-accordion-content",i.accordion).height(e)}})}(jQuery);