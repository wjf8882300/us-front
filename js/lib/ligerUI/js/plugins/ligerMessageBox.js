!function(e){e.ligerMessageBox=function(s){return e.ligerui.run.call(null,"ligerMessageBox",arguments,{isStatic:!0})},e.ligerDefaults.MessageBox={isDrag:!0},e.ligerMethos.MessageBox={},e.ligerui.controls.MessageBox=function(s){e.ligerui.controls.MessageBox.base.constructor.call(this,null,s)},e.ligerui.controls.MessageBox.ligerExtend(e.ligerui.core.UIComponent,{__getType:function(){return"MessageBox"},__idPrev:function(){return"MessageBox"},_extendMethods:function(){return e.ligerMethos.MessageBox},_render:function(){var s=this,o=this.options,t="";t+='<div class="l-messagebox">',t+='        <div class="l-messagebox-lt"></div><div class="l-messagebox-rt"></div>',t+='        <div class="l-messagebox-l"></div><div class="l-messagebox-r"></div> ',t+='        <div class="l-messagebox-image"></div>',t+='        <div class="l-messagebox-title">',t+='            <div class="l-messagebox-title-inner"></div>',t+='            <div class="l-messagebox-close"></div>',t+="        </div>",t+='        <div class="l-messagebox-content">',t+="        </div>",t+='        <div class="l-messagebox-buttons"><div class="l-messagebox-buttons-inner">',t+="        </div></div>",t+="    </div>",s.messageBox=e(t),e("body").append(s.messageBox),s.messageBox.close=function(){s._removeWindowMask(),s.messageBox.remove()},o.width&&s.messageBox.width(o.width),o.title&&e(".l-messagebox-title-inner",s.messageBox).html(o.title),o.content&&e(".l-messagebox-content",s.messageBox).html(o.content),o.buttons&&(e(o.buttons).each(function(o,t){var i=e('<div class="l-messagebox-btn"><div class="l-messagebox-btn-l"></div><div class="l-messagebox-btn-r"></div><div class="l-messagebox-btn-inner"></div></div>');e(".l-messagebox-btn-inner",i).html(t.text),e(".l-messagebox-buttons-inner",s.messageBox).append(i),t.width&&i.width(t.width),t.onclick&&i.click(function(){t.onclick(t,o,s.messageBox)})}),e(".l-messagebox-buttons-inner",s.messageBox).append("<div class='l-clear'></div>"));var i=s.messageBox.width(),a=0;e(".l-messagebox-buttons-inner .l-messagebox-btn",s.messageBox).each(function(){a+=e(this).width()}),e(".l-messagebox-buttons-inner",s.messageBox).css({marginLeft:parseInt(.5*(i-a))}),s._applyWindowMask(),s._applyDrag(),s._setImage();var n=0,l=0,g=o.width||s.messageBox.width();null!=o.left?n=o.left:o.left=n=.5*(e(window).width()-g),null!=o.top?l=o.top:o.top=l=.5*(e(window).height()-s.messageBox.height())+e(window).scrollTop()-10,n<0&&(o.left=n=0),l<0&&(o.top=l=0),s.messageBox.css({left:n,top:l}),e(".l-messagebox-btn",s.messageBox).hover(function(){e(this).addClass("l-messagebox-btn-over")},function(){e(this).removeClass("l-messagebox-btn-over")}),e(".l-messagebox-close",s.messageBox).hover(function(){e(this).addClass("l-messagebox-close-over")},function(){e(this).removeClass("l-messagebox-close-over")}).click(function(){s.messageBox.close()}),s.set(o)},close:function(){this.options;this.g._removeWindowMask(),this.messageBox.remove()},_applyWindowMask:function(){this.options;e(".l-window-mask").remove(),e("<div class='l-window-mask' style='display: block;'></div>").appendTo(e("body"))},_removeWindowMask:function(){this.options;e(".l-window-mask").remove()},_applyDrag:function(){var s=this;this.options.isDrag&&e.fn.ligerDrag&&s.messageBox.ligerDrag({handler:".l-messagebox-title-inner",animate:!1})},_setImage:function(){var s=this,o=this.options;o.type&&("success"==o.type||"donne"==o.type?(e(".l-messagebox-image",s.messageBox).addClass("l-messagebox-image-donne").show(),e(".l-messagebox-content",s.messageBox).css({paddingLeft:64,paddingBottom:30})):"error"==o.type?(e(".l-messagebox-image",s.messageBox).addClass("l-messagebox-image-error").show(),e(".l-messagebox-content",s.messageBox).css({paddingLeft:64,paddingBottom:30})):"warn"==o.type?(e(".l-messagebox-image",s.messageBox).addClass("l-messagebox-image-warn").show(),e(".l-messagebox-content",s.messageBox).css({paddingLeft:64,paddingBottom:30})):"question"==o.type&&(e(".l-messagebox-image",s.messageBox).addClass("l-messagebox-image-question").show(),e(".l-messagebox-content",s.messageBox).css({paddingLeft:64,paddingBottom:40})))}}),e.ligerMessageBox.show=function(s){return e.ligerMessageBox(s)},e.ligerMessageBox.alert=function(s,o,t,i){s=s||"",o=o||s;var a=function(e,s,o){o.close(),i&&i(e,s,o)};return p={title:s,content:o,buttons:[{text:"确定",onclick:a}]},t&&(p.type=t),e.ligerMessageBox(p)},e.ligerMessageBox.confirm=function(s,o,t){var i=function(e,s,o){o.close(),t&&t(0==s)};return p={type:"question",title:s,content:o,buttons:[{text:"是",onclick:i},{text:"否",onclick:i}]},e.ligerMessageBox(p)},e.ligerMessageBox.success=function(s,o,t){return e.ligerMessageBox.alert(s,o,"success",t)},e.ligerMessageBox.error=function(s,o,t){return e.ligerMessageBox.alert(s,o,"error",t)},e.ligerMessageBox.warn=function(s,o,t){return e.ligerMessageBox.alert(s,o,"warn",t)},e.ligerMessageBox.question=function(s,o){return e.ligerMessageBox.alert(s,o,"question")}}(jQuery);